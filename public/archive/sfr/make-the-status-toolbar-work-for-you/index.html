<!DOCTYPE html>
<html lang="en-us">
<head>
	<title>gwcoffey.com: Make the Status Toolbar Work for You</title>

    
    
    
    <link rel="stylesheet" href="/css/style.css">
    
	
	
	<script src="/js/main.js" defer></script>
</head>

<body>

<header>
	<h2><a rel="home" href="/">gwcoffey.com</a></h2>
</header>

<main>

<section class="archive">
	<h3>Archived Post</h3>
	
	<p>
		This post is archived from <a href="https://sixfriedrice.com/">Six Fried Rice</a>, a company and blog I used to run. Some posts have been edited slightly to fix typographical errors, and remove unnecessarily-gendered language. You can <a href="/archive/sfr/">view the full archive here</a>.
	</p>
	
</section>

<article>

<hgroup>
	<h1>Make the Status Toolbar Work for You</h1>
	<div class="byline">
		<address><a rel="author" href="/me">Geoff Coffey</a></address>
		/
		<time datetime="2009-01-15 00:00:00 &#43;0000 UTC">15 January 2009</time>
	</div>
</hgroup>

<p><a href="http://sixfriedrice.com/wp/introducing-filemaker-10/">FileMaker 10</a>’s most visible new feature is the completely redesigned Status toolbar (formerly called the Status <em>area</em>). Perhaps because of its prominent position, or because it is such a striking departure from a 20-year FileMaker mainstay, this change has been met with its fair share of controversy. In this article we’ll show you why you don’t need to worry, and how you can make the new Status toolbar <em>work for you</em>.</p>
<p>In FileMaker 10, the standard Status toolbar looks something like this:</p>
<figure><img src="standard-toolbar.png"
         alt="Screenshot of the standard toolbar in FileMaker Pro 10. It is similar to toolbars in other Mac OS X applications. It has an icon that resembles a book for flipping through records. It also has several buttons like &#34;New Record&#34; and &#34;Delete Record&#34; and controls to switch layouts and views." width="600" height="222"/><figcaption>
            <p>The new Status Toolbar is quite a departure from the FileMaker you know and love.</p>
        </figcaption>
</figure>

<p>If you leave the Status toolbar open, your user will see prominent New Record and Delete Record buttons (among others). At first this might seem <em>nuts</em>. After all, many of you have special buttons on your layouts specifically for record creation and deletion, and you certainly don’t want people willy-nilly switching layouts to the wrong view, confusing themselves in the process. But it turns out you have more control over these buttons than most people realize. You cannot add your own buttons or custom icons, but <em>you can</em>:</p>
<ul>
<li>Disable buttons you don’t want your users to click</li>
<li>Reconnect most buttons to scripts of your own</li>
<li>Rename buttons to better reflect the terminology in your database</li>
</ul>
<aside class="note">
Note: If you have the equivalent menu commands disabled in your database, then the buttons are already disabled too. A database with locked-down user interface in 9 is just as locked down in 10.
</aside>
<h2 id="disabling-buttons">Disabling Buttons</h2>
<p>There are three ways to disable buttons in the Status toolbar (not all apply to all buttons). You can set up custom record privileges to control who can create and delete records. You can restrict access to menu commands using a privilege set; and finally, you can use custom menus to remove troublesome menu commands. Which you use is a matter of your security and user interface needs.</p>
<h3 id="custom-record-privileges">Custom Record Privileges</h3>
<p>Using custom record privileges you can remove the ability for a user to create or delete records for any particular table. When you do, the associated status toolbar button will disable as appropriate. This even works for so called “record level access” privileges. For instance, you can remove the ability to delete a record only once its Status field has been set to “shipped.” When you do, the Delete Record button will disable when you view shipped records.</p>
<p>Setting this up is easy:</p>
<ol class="steps">


<li>
	<p><strong>In your database, choose File → Manage → Accounts and Privileges.</strong></p><p>The Accounts &amp; Privileges dialog box appears.<p></li>

<li>
	<p><strong>Open one of your existing privilege sets, or create a new privilege set.</strong></p><p>You’ll probably need to switch to the Privilege Sets tab. If you’re doing this for the first time, it is probably easiest if you duplicate the [Data Entry Only] privilege set so you start off with some reasonable privileges.<p></li>

<li>
	<p><strong>From the Records pop-up menu, make a reasonable choice.</strong></p><p>For example, if you want to remove the ability to delete records of any kind, choose “Create and edit in all tables.” For the ultimate in control, choose “Custom privileges.” This window shows a privilege set configured so users can create records in any table, but can only <em>delete</em> Vendor records.<p></li>


</ol>
<figure><img src="custom-record-privileges.png"/>
</figure>

<p>Once you assign an account to this privilege set, when that user logs in, they’ll see the Delete Record button disabled when they look at Customer records:</p>
<figure>
	<video controls>
	  <source src="disabled-buttons.mov" type="video/mp4" />
	</video><figcaption><p>The Delete Record toolbar button is only available if the user is allowed to delete the record.</p></figcaption></figure>

<h3 id="restricted-menu-access">Restricted Menu Access</h3>
<p>The record privileges don’t effect the <em>other</em> toolbar buttons (since they have nothing to do with creating or deleting records). Also, for databases where security isn’t terribly important, and preventing <em>casual</em> or <em>accidental</em> unwanted actions is all you need, restricting record privileges can be heavy handed and hard to script around.</p>
<p>For cases like this, the easiest solution is to restrict menu access. If you revisit the Privilege Sets tab of the Manage → Account &amp; Privileges dialog box, you’ll discover that you can make gross restrictions to the menu commands your users get:</p>
<figure><img src="limited-menus-with-privilege-sets.png"
         alt="Screenshot of part of the Accounts &amp; Privileges window showing the user selecting &#34;Editing Only&#34; from the &#34;Available menu commands&#34; pop-up menu." width="500" height="300"/><figcaption>
            <p>The easiest way to disable toolbar buttons is to disable the menu commands they&rsquo;re associated with.</p>
        </figcaption>
</figure>

<p>If you switch to Editing Only or Minimal, FileMaker takes away all the powerful commands (like Import and Export, New Record, Delete Record, Find, and so forth). All the associated Status toolbar buttons will disable as well.</p>
<h3 id="custom-menus">Custom Menus</h3>
<p>For the utmost in control, you can turn to Custom Menus. This power feature is only available in FileMaker Pro Advanced, and gives you almost complete control of the menus, sub-menus, and commands your users see when they use your database. You’ll see some step-by-step instructions for using custom menus at the end of this article. For now, it will suffice to say that if you <em>remove</em> a menu command from a menu set, then when that menu set is active, the associated button in the Status toolbar will be disabled. In this way you can selectively disable any button you choose.</p>
<h2 id="renaming-and-redefining-buttons">Renaming and Redefining Buttons</h2>
<p>Disabling buttons is all well and good, if you’re a fan of taunting your users with permanently-out-of-reach temptation <span class="editors-note">[ed: who isn&rsquo;t?!]</span>. But why not take it a step further. <em>Embrace those buttons</em> and make them do your dirty work. Taking control of the toolbar buttons requires use of custom menus (and, by extension, FileMaker Pro Advanced).</p>
<p>Imagine you have a database of <em>customers</em> and <em>vendors</em>. Your business rules require that you carefully control the process of creating and deleting records. For instance, you may need to set up web site access for any new customers, which requires running your fancy SQL scripts. Here’s how to express your authority <em>and</em> keep the Status toolbar buttons:</p>
<aside class="note">
Note: In this example, you’ll use the “Custom Menu Set 1” menu set FileMaker creates for you. Adjust the steps as necessary if you have your own custom menu sets already.
</aside>
<ol class="steps">


<li>
	<p><strong>From the File Menu, choose Manage → Custom Menus.</strong></p><p>The (quite complex) Manage Custom Menus dialog box appears. This is grand central station for every menu command FileMaker can muster.<p></li>

<li>
	<p><strong>In the Custom Menus tab, select the Records Copy menu.</strong></p><p>FileMaker ships with a customizable copy of all the standard menus to make it easy to squeeze small changes into otherwise-normal menus. This is the copy of the usual Records menu, where the New Record and Delete Record commands live.<p></li>

<li>
	<p><strong>With the menu selected, click Edit.</strong></p><p>The Edit Custom Menu dialog box appears. On the left side, you see all the menu items in this menu.<p></li>

<li>
	<p><strong>Select the New Record menu item.</strong></p><p>When you select a menu item, the right side of the dialog box fills in with options for the item. There’s lots of power here, so feel free to explore. You can see the options in the figure below.</p>
<figure><img src="menu-item-configuration.png"
         alt="Screenshot of the &#34;Menu Item Properties&#34; section of the Edit Menu dialog box. several checkboxes, input fields, and buttons are shown." width="548" height="394"/><figcaption>
            <p>With Custom Menus you can, among other things, rename FileMaker&rsquo;s standard menu items and assign them to your own scripts.</p>
        </figcaption>
</figure>
<p></li>

<li>
	<p><strong>Look next to “Command” and make sure it says “New Record.”</strong></p><p>This is the key to this entire technique. This menu item is associated with the New Record command, which is a core command in FileMaker. When you adjust the behavior of the menu item associated with the New Record command, you also modify the behavior of the New Record <em>toolbar button</em>.<p></li>

<li>
	<p><strong>Turn on the Action checkbox and select the script you use to create new records.</strong></p><p>When you add an action to the menu item, you get to pick either a single step or a script. In most cases you’re best off using a script (even if it is a one-liner) because it makes it easy to change later, even if several different menu sets include items that do the same thing.<p></li>

<li>
	<p><strong>If you want, turn on the Title checkbox, click its associated Specify button, and enter a calculation to determine the menu title.</strong></p><p>For instance, you might decide you want your menu called “New Customer,” “Create Record,” or <code>Pi * Random</code>. Ok, probably not the last one, but the point is, you can use all the power of calculations to generate a dynamic and interesting title for your menu. Anything you do here will also influence the label under the New Record button in the Status toolbar.<p></li>

<li>
	<p><strong>Select the Delete Record menu item and configure as you wish.</strong></p><p>Just make sure you keep Command set to “Delete Record…” so FileMaker knows you’re adjusting behavior for the delete action.<p></li>

<li>
	<p><strong>Click OK to close the Edit Custom Menu dialog box.</strong></p><p>You’re now back in the Manage Custom Menus dialog box.<p></li>

<li>
	<p><strong>From the “Default menu set for this file” pop-up menu, choose “Custom Menu Set 1.”</strong></p><p>When you make this change, you’re telling FileMaker you want the customized menu set to be used automatically for this database. You can also configure custom menu sets on a per-layout basis (See the Layouts → Layout Setup dialog box in Layout Mode) or switch menu sets via scripts (using the <code>Install Menu Set</code> script step).<p></li>

<li>
	<p><strong>Click OK once more to close this dialog box.</strong></p><p>Now you’re ready to test your changes. If all went well, the New Record and Delete Record buttons in the Status toolbar now bend to your will.<p></li>


</ol>
<h2 id="dealing-with-the-view-as-buttons">Dealing With the View As Buttons</h2>
<p>The steps above show you how to attach your own actions to the New Record and Delete Record toolbar buttons. But at the outset, we also mentioned the potential confusion your users might get by accidentally clicking the View As toolbar buttons. Once again, you have two options here.</p>
<p><strong>To disable any of these buttons</strong> you can disable a particular view on a per-layout basis. For instance, your Customer List layout only makes sense in List view, so turn off Form and Table views. This is super easy. In Layout mode, choose Layouts → Layout Setup, switch to the Views tab, and uncheck the views you don’t want your users to use. When you do, the associated buttons in the Status toolbar will be disabled.</p>
<aside class="tip">
Tip: You might take this opportunity to disable Table view in many of your layouts, since it has some potentially unwanted power. We discuss this in more detail <a href="../welcome-filemaker-pro-10/#customizable-table-view">here</a>.
</aside>
<p><strong>To get these buttons to run your own script</strong>, just override the View as Form, View as List, and View as Table commands using custom menus, as described above. You’ll find them in the View Copy menu if you use the built in custom menu set.</p>
<h2 id="to-infinity-and-beyond">To Infinity and Beyond</h2>
<p>Combining the various custom menu techniques, plus some clever naming conventions and scripts, you can get the Status toolbar really working for you. In this video demo, you can see a simple database that customizes the behavior of several toolbar buttons so this standard FileMaker user interface integrates seamlessly with your carefully controlled database.</p>
<figure>
	<video controls>
	  <source src="fully-customized-toolbar.mov" type="video/mp4" />
	</video><figcaption><p>This sample database (available for <a href="my-database.fp7.zip">download here</a>) combines several techniques to fully incorporate the Status Toolbar into a highly customized database experience.</p></figcaption></figure>

<p>In this example (which is anything but fully baked) we use the <code>Get(LayoutName)</code> function and some custom scripting to get the “View as Form” and “View as List” buttons to switch to appropriate layouts. We’ve also added a custom script to the New Record and Delete Record buttons, and renamed them so it is more obvious what they will do.</p>
<p>This kind of integration has several powerful advantages:</p>
<ul>
<li>
<p>FileMaker takes care of a lot of nice user interface work that we would otherwise have to create (and duplicate on every layout) ourselves. That means less time fiddling and more time making databases meet the needs of our customers.</p>
</li>
<li>
<p>This database has more powerful interface elements than it would if we had to handle the UI ourselves. For instance, our end users can show and hide the toolbar at will, and customize it to their needs.</p>
</li>
<li>
<p>If we build multiple databases for the same customer, they all <em>work the same way</em>. If a user customizes the toolbar in one database, their changes will apply in all of them. They only have to learn one set of interactions. This means we get more consistency with less work.</p>
</li>
</ul>
<p>A lot of people have expressed frustration about the new Status area, complaining that FileMaker has taken away control they need. I hope this article makes it clear that we have <em>more control than ever before</em>.</p>
<aside>

	<h3 id="an-opinionated-endnote">An Opinionated Endnote</h3>

<p>A lot of the frustration about the Status toolbar seems to stem from the fact that it is now <em>more obvious</em> that you can, for example, delete a record. These commands used to be squirreled away in menus, and now they’re front-and-center. But of course a less visible menu command is just as dangerous in the wrong hands. So the new toolbar, perhaps, has simply made it more obvious to developers that they need to be careful.</p>
<p>The reaction to the new prominence of these commands illustrates another interesting reality. Menus have become no-man’s land. More and more in modern, popular applications, the commands you need are readily available in an explorable, friendly <a href="https://duckduckgo.com/?q=busy+box&amp;iax=images&amp;ia=images">busy-box</a> of interface goodness. People expect to <em>see</em> what they can <em>do</em>. I think this phenomenon really underscores the wisdom in the new Status toolbar. To keep current, FileMaker needs to evolve a more modern user interface. It did, and suddenly people notice what FileMaker can do. That is, in my opinion, A Good Thing™. Editorializing over.</p>

</aside>


</article>


</main>

<footer>
    <nav>
        
        
        
        
        
			<h2>Writing</h2>
			<menu>
			
				
				<li><a href="/weblog/">Weblog</a></li>
				
			
			</menu>
		
			<h2>Projects</h2>
			<menu>
			
				
				<li><a href="/maclanebot/">maclanebot</a></li>
				
			
				
				<li><a href="/wordplay/">Wordplay</a></li>
				
			
			</menu>
		
			<h2>About</h2>
			<menu>
			
				
				<li><a href="/me/">Contact</a></li>
				
			
				
				<li><a href="/colophon/">Colophon</a></li>
				
			
				
				<li><a href="/license/">license</a></li>
				
			
			</menu>
		
    </nav>
</footer>

</body>
</html>
